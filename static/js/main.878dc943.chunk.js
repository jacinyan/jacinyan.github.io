(this.webpackJsonptypezilla=this.webpackJsonptypezilla||[]).push([[1],{106:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return b}));var r=n(31),c=n(24),u=n(0),a=n(94),i=n(148),o=function(t){Object(u.useEffect)((function(){t()}),[t])},s=function(t){var e=function(){var t=Object(u.useRef)(!1);return Object(u.useEffect)((function(){return t.current=!0,function(){t.current=!1}})),t}();return Object(u.useCallback)((function(){return e.current?t.apply(void 0,arguments):void 0}),[t,e])},f=function(t,e){var n=Object(u.useState)(t),r=Object(c.a)(n,2),a=r[0],i=r[1];return Object(u.useEffect)((function(){var n=setTimeout((function(){i(t)}),e);return function(){clearTimeout(n)}}),[t,e]),a},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(u.useRef)(document.title).current;Object(u.useEffect)((function(){document.title=t}),[t,n,e]),Object(u.useEffect)((function(){return function(){e||(document.title=n)}}),[e,n])},d=function(t){var e=Object(a.c)(),n=Object(c.a)(e,1)[0],r=b(),o=Object(u.useState)(t),s=Object(c.a)(o,1)[0];return[Object(u.useMemo)((function(){return Object(i.c)(Object.fromEntries(n),s)}),[n,s]),function(t){return r(t)}]},b=function(){var t=Object(a.c)(),e=Object(c.a)(t,2),n=e[0],u=e[1];return function(t){var e=Object(i.a)(Object(r.a)(Object(r.a)({},Object.fromEntries(n)),t));return u(e)}}},108:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),c=n(119),u=function(){var t=Object(r.useContext)(c.a);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}},119:function(t,e,n){"use strict";n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return v}));var r=n(8),c=n.n(r),u=n(29),a=n(0),i=n(222),o=n(66),s=n(162),f=n(106),l=n(121),d=n(125),b=n(6),j=function(){var t=Object(u.a)(c.a.mark((function t(){var e,n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,!(n=Object(o.b)())){t.next=7;break}return t.next=5,Object(o.a)("me",{token:n});case 5:r=t.sent,e=r.user;case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(a.createContext)(void 0);O.displayName="AuthContext";var v=function(t){var e=t.children,n=Object(s.a)(),r=n.data,c=n.error,u=n.isError,v=n.isLoading,p=n.isIdle,h=n.asyncRun,m=n.setData,x=Object(i.b)();return Object(f.c)(Object(a.useCallback)((function(){h(j())}),[h])),p||v?Object(b.jsx)(l.a,{}):u?Object(b.jsx)(d.a,{error:c}):Object(b.jsx)(O.Provider,{value:{user:r,login:function(t){return Object(o.c)(t).then(m)},register:function(t){return Object(o.e)(t).then(m)},logout:function(){return Object(o.d)().then((function(){m(null),x.clear()}))}},children:e})}},121:function(t,e,n){"use strict";var r=n(158),c=n(6);e.a=function(){return Object(c.jsx)("div",{style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},children:Object(c.jsx)(r.a,{size:"large"})})}},125:function(t,e,n){"use strict";var r=n(104),c=n(165),u=n(6);e.a=function(t){var e=t.error;return Object(u.jsxs)("div",{style:{display:"flex",height:"100vh",justifyContent:"center",alignItems:"center"},children:[Object(u.jsx)(r.a,{}),Object(u.jsx)(c.a,{error:e})]})}},148:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i}));var r=n(24),c=n(31),u=function(t){if(!t)return{};var e=Object(c.a)({},t);return Object.keys(e).forEach((function(t){(function(t){return void 0===t||null===t||""===t})(e[t])&&delete e[t]})),e},a=function(){return window.location.href=window.location.origin},i=function(t,e){var n=Object.entries(t).filter((function(t){var n=Object(r.a)(t,1)[0];return e.includes(n)}));return Object.fromEntries(n)}},162:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return x})),n.d(e,"e",(function(){return y})),n.d(e,"d",(function(){return g})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return k}));var r=n(30),c=n(8),u=n.n(c),a=n(29),i=n(24),o=n(31),s=n(0),f=n(222),l=n(108),d=n(66),b=n(106),j=function(t){var e=t.fromId,n=t.type,c=t.referenceId,u=t.list,a=Object(r.a)(u),i=a.findIndex((function(t){return t.id===e}));if(!c)return v(Object(r.a)(a),i,a.length-1);var o=a.findIndex((function(t){return t.id===c}));return("after"===n?v:O)(Object(r.a)(a),i,o)},O=function(t,e,n){var r=t[n],c=t.splice(e,1)[0],u=t.indexOf(r);return t.splice(u,0,c),t},v=function(t,e,n){var r=t[n],c=t.splice(e,1)[0],u=t.indexOf(r);return t.splice(u+1,0,c),t},p=function(){var t=Object(l.a)().user;return Object(s.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var c=n[0],u=n[1];return Object(d.a)(c,Object(o.a)(Object(o.a)({},u),{},{token:null===t||void 0===t?void 0:t.token}))}),[null===t||void 0===t?void 0:t.token])},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"idle",data:null,error:null},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{throwOnError:!1},n=Object(s.useReducer)((function(t,e){return Object(o.a)(Object(o.a)({},t),e)}),Object(o.a)({},t)),r=Object(i.a)(n,2),c=r[0],f=r[1],l=Object(o.a)({},e),d=Object(b.d)(f),j=Object(s.useState)((function(){return function(){}})),O=Object(i.a)(j,2),v=O[0],p=O[1],h=Object(s.useCallback)((function(t){return d({data:t,status:"success",error:null})}),[d]),m=Object(s.useCallback)((function(t){return d({error:t,status:"error",data:null})}),[d]),x=Object(s.useCallback)(function(){var t=Object(a.a)(u.a.mark((function t(e,n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&e.then){t.next=2;break}throw new Error("Please pass in a Promise type ");case 2:return p((function(){return function(){(null===n||void 0===n?void 0:n.retry)&&x(null===n||void 0===n?void 0:n.retry(),n)}})),d({status:"loading"}),t.prev=4,t.next=7,e;case 7:return r=t.sent,h(r),t.abrupt("return",r);case 12:if(t.prev=12,t.t0=t.catch(4),m(t.t0),!l.throwOnError){t.next=17;break}return t.abrupt("return",Promise.reject(t.t0));case 17:return t.abrupt("return",t.t0);case 18:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,n){return t.apply(this,arguments)}}(),[l.throwOnError,h,m,d]);return Object(o.a)({isIdle:"idle"===c.status,isLoading:"loading"===c.status,isError:"error"===c.status,isSuccess:"success"===c.status,setData:h,setError:m,asyncRun:x,retry:v},c)},m=function(t,e){var n=Object(f.b)();return{onSuccess:function(){return n.invalidateQueries(t)},onMutate:function(){var r=Object(a.a)(u.a.mark((function r(c){var a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.cancelQueries(t);case 2:return a=n.getQueryData(t),n.setQueryData(t,(function(t){return e(c,t)})),r.abrupt("return",{prevItems:a});case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),onError:function(e,r,c){n.setQueryData(t,c.prevItems)},onSettled:function(){n.invalidateQueries(t)}}},x=function(t){return m(t,(function(t,e){return e?[].concat(Object(r.a)(e),[t]):[t]}))},y=function(t){return m(t,(function(t,e){return(null===e||void 0===e?void 0:e.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),t):e})))||[]}))},g=function(t){return m(t,(function(t,e){return(null===e||void 0===e?void 0:e.filter((function(e){return e.id!==t.id})))||[]}))},w=function(t){return m(t,(function(t,e){return j(Object(o.a)({list:e},t))}))},k=function(t){return m(t,(function(t,e){return j(Object(o.a)({list:e},t)).map((function(e){return e.id===t.fromId?Object(o.a)(Object(o.a)({},e),{},{swimlaneId:t.toSwimlaneId}):e}))}))}},165:function(t,e,n){"use strict";var r=n(387),c=n(6);e.a=function(t){var e,n=t.error;return(null===(e=n)||void 0===e?void 0:e.message)?Object(c.jsx)(r.a.Text,{type:"danger",children:null===n||void 0===n?void 0:n.message}):null}},167:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(30),c=n(31),u=n(107),a=n(0),i=n.n(a),o=n(6),s=[],f=function(t){var e=t.metadata,n=t.phases,r=Object(u.a)(t,["metadata","phases"]);return Object(o.jsx)(i.a.Profiler,Object(c.a)({onRender:function(t,r,c,u,a,i,o){n&&!n.includes(r)||s.push({id:t,phase:r,actualDuration:c,baseDuration:u,startTime:a,commitTime:i,interactions:o,metadata:e})}},r))};setInterval((function(){if(s.length){console.count("_sendProfilerQueue");var t=Object(r.a)(s);s=[],console.log(t)}}),5e3)},237:function(t,e){},384:function(t,e,n){},386:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),u=n(32),a=n.n(u),i=n(108),o=n(121),s=n(125),f=n(71),l=n(126),d=n(80),b=n(89),j=function(t){Object(d.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(f.a)(this,n);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(t=e.call.apply(e,[this].concat(c))).state={error:null},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state.error,e=this.props,n=e.fallbackRender,r=e.children;return t?n({error:t}):r}}],[{key:"getDerivedStateFromError",value:function(t){return{error:t}}}]),n}(r.Component),O=(n(384),n(6)),v=c.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.bind(null,422))})),p=c.a.lazy((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,423))}));var h=function(){var t=Object(i.a)().user;return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(j,{fallbackRender:s.a,children:Object(O.jsx)(c.a.Suspense,{fallback:Object(O.jsx)(o.a,{}),children:t?Object(O.jsx)(v,{}):Object(O.jsx)(p,{})})})})},m=n(104),x=n(393),y=n(222),g=n(119),w=n(94),k=function(t){var e=t.children,n=new x.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return Object(O.jsx)(y.a,{client:n,children:Object(O.jsx)(w.a,{children:Object(O.jsx)(g.b,{children:e})})})},E=function(t){t&&t instanceof Function&&n.e(7).then(n.bind(null,420)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,u=e.getLCP,a=e.getTTFB;n(t),r(t),c(t),u(t),a(t)}))},C=(n(385),n(167));Object(m.b)((function(){a.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(C.a,{id:"App",phases:["mount"],children:Object(O.jsxs)(k,{children:[Object(O.jsx)(m.a,{}),Object(O.jsx)(h,{})]})})}),document.getElementById("root"))})),E()},66:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"e",(function(){return v})),n.d(e,"d",(function(){return p}));var r=n(8),c=n.n(r),u=n(31),a=n(107),i=n(29),o=n(210),s=n.n(o),f="https://typezilla.com",l="__auth__provider__token__",d=function(){var t=Object(i.a)(c.a.mark((function t(e){var n,r,i,o,l,d,b=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=b.length>1&&void 0!==b[1]?b[1]:{},r=n.params,i=n.token,n.headers,o=Object(a.a)(n,["params","token","headers"]),"GET"===(l=Object(u.a)({method:"GET",headers:{Authorization:i?"Bearer ".concat(i):"","Content-Type":r?"application/json":""}},o)).method.toUpperCase()?e+="?".concat(s.a.stringify(r)):l.body=JSON.stringify(r||{}),t.next=5,window.fetch("".concat(f,"/").concat(e),l);case 5:if(!(d=t.sent).ok){t.next=12;break}return t.next=9,d.json();case 9:return t.abrupt("return",t.sent);case 12:if(401!==d.status){t.next=19;break}return t.next=15,p();case 15:return window.location.reload(),t.abrupt("return",Promise.reject({message:"Please log in again"}));case 19:return t.t0=Promise,t.next=22,d.json();case 22:return t.t1=t.sent,t.abrupt("return",t.t0.reject.call(t.t0,t.t1));case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){return window.localStorage.getItem(l)},j=function(t){var e=t.user;return window.localStorage.setItem(l,e.token||""),e},O=function(){var t=Object(i.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(n=t.sent).ok){t.next=11;break}return t.t0=j,t.next=7,n.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 11:return t.t2=Promise,t.next=14,n.json();case 14:return t.t3=t.sent,t.abrupt("return",t.t2.reject.call(t.t2,t.t3));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(f,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(!(n=t.sent).ok){t.next=11;break}return t.t0=j,t.next=7,n.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 11:return t.t2=Promise,t.next=14,n.json();case 14:return t.t3=t.sent,t.abrupt("return",t.t2.reject.call(t.t2,t.t3));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(i.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",window.localStorage.removeItem(l));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}},[[386,2,3]]]);
//# sourceMappingURL=main.878dc943.chunk.js.map